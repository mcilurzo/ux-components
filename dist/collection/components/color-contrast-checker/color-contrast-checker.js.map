{"version":3,"file":"color-contrast-checker.js","sourceRoot":"","sources":["../../../src/components/color-contrast-checker/color-contrast-checker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, State, Element, Prop } from '@stencil/core';\nimport { translations } from './translations';\n\n@Component({\n  tag: 'color-contrast-checker',\n  styleUrl: 'color-contrast-checker.scss',\n  shadow: true,\n})\nexport class ColorContrastChecker {\n  @Element() private host: HTMLElement;\n  @Prop() language: 'en' | 'de' | 'it' | 'fr' = 'en';\n  @State() color1: string = '#EB0000';\n  @State() color2: string = '#FFFFFF';\n\n  private colorOptions: { name: string; value: string }[] = [\n    { name: 'Red', value: '#EB0000' },\n    { name: 'Red125', value: '#C60018' },\n    { name: 'Red150', value: '#C60018' },\n    { name: 'White', value: '#FFFFFF' },\n    { name: 'Milk', value: '#F6F6F6' },\n    { name: 'Cloud', value: '#E5E5E5' },\n    { name: 'Silver', value: '#DCDCDC' },\n    { name: 'Aluminum', value: '#D2D2D2' },\n    { name: 'Platinum', value: '#CDCDCD' },\n    { name: 'Cement', value: '#BDBDBD' },\n    { name: 'Graphite', value: '#B7B7B7' },\n    { name: 'Storm', value: '#A8A8A8' },\n    { name: 'Smoke', value: '#8D8D8D' },\n    { name: 'Metal', value: '#767676' },\n    { name: 'Granite', value: '#686868' },\n    { name: 'Anthracite', value: '#5A5A5A' },\n    { name: 'Iron', value: '#444444' },\n    { name: 'Charcoal', value: '#212121' },\n    { name: 'Midnight', value: '#151515' },\n    { name: 'Black', value: '#000000' },\n    { name: 'Blue', value: '#2d327d' },\n    { name: 'Green', value: '#008233' },\n    { name: 'Turquoise', value: '#007E84' },\n    { name: 'Sky', value: '#0074BF' },\n    { name: 'Night', value: '#143A85' },\n    { name: 'Violet', value: '#6F2282' },\n    { name: 'Pink', value: '#C7387A' },\n    { name: 'Brown', value: '#A05400' },\n    { name: 'Autumn', value: '#CF3B00' },\n    { name: 'Orange', value: '#F27E00' },\n    { name: 'Peach', value: '#FCBB00' },\n    { name: 'Lemon', value: '#FFDE15' },\n  ];\n\n  componentDidLoad() {\n    (this.host.shadowRoot.getElementById('color1') as HTMLSelectElement).value = this.color1;\n    (this.host.shadowRoot.getElementById('color2') as HTMLSelectElement).value = this.color2;\n  }\n\n  private calculateContrastRatio(color1: string, color2: string): number {\n    const l1 = this.getLuminance(color1) + 0.05;\n    const l2 = this.getLuminance(color2) + 0.05;\n    return l1 > l2 ? l1 / l2 : l2 / l1;\n  }\n\n  private getLuminance(hexColor: string): number {\n    const rgb = hexColor\n      .substring(1)\n      .match(/.{2}/g)\n      .map((x) => parseInt(x, 16) / 255);\n    const r = rgb[0] <= 0.03928 ? rgb[0] / 12.92 : Math.pow((rgb[0] + 0.055) / 1.055, 2.4);\n    const g = rgb[1] <= 0.03928 ? rgb[1] / 12.92 : Math.pow((rgb[1] + 0.055) / 1.055, 2.4);\n    const b = rgb[2] <= 0.03928 ? rgb[2] / 12.92 : Math.pow((rgb[2] + 0.055) / 1.055, 2.4);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  }\n\n  private getWCAGCompliance(contrastRatio: number) {\n    return {\n      aaNormal: contrastRatio >= 4.5,\n      aaLarge: contrastRatio >= 3,\n      aaaNormal: contrastRatio >= 7,\n      aaaLarge: contrastRatio >= 4.5,\n    };\n  }\n  \n\n  render() {\n    const contrastRatio = this.calculateContrastRatio(this.color1, this.color2);\n    const wcagCompliance = this.getWCAGCompliance(contrastRatio);\n    const t = translations[this.language];\n  \n    return (\n      <div class=\"color-contrast-checker\">\n        <div class=\"foreground-color\">\n        <sbb-form-field error-space=\"none\" size=\"m\" width=\"collapse\">\n          <label>{t.color1Label}</label>\n          <sbb-select\n            id=\"color1\"\n            onInput={(e: any) => {\n              this.color1 = e.target.value;\n            }}\n          >\n            {this.colorOptions.map((color) => (\n              <sbb-option value={color.value}>{color.name}</sbb-option>\n            ))}\n          </sbb-select>\n        </sbb-form-field>\n        <div class=\"color-box\" style={{ backgroundColor: this.color1 }}></div>\n        </div>\n        <div class=\"background-color\">\n          <sbb-form-field error-space=\"none\" size=\"m\" width=\"collapse\">\n          <label>{t.color2Label}</label>\n          <sbb-select\n            id=\"color2\"\n            onInput={(e: any) => {\n              this.color2 = e.target.value;\n            }}\n          >\n            {this.colorOptions.map((color) => (\n              <sbb-option value={color.value}>{color.name}</sbb-option>\n            ))}\n          </sbb-select>\n          </sbb-form-field>\n          <div class=\"color-box\" style={{ backgroundColor: this.color2 }}></div>\n        </div>\n        <div class=\"contrast-ratio\">\n          {contrastRatio.toFixed(2)}:1\n        </div>\n        <div class=\"wcag-compliance\">\n          \n          \n          <div class=\"wcag-level\">\n            <div>{t.levelAA}</div>\n            <div class={wcagCompliance.aaNormal ? 'result pass' : 'result fail'}>\n              <div class=\"icon\">{wcagCompliance.aaNormal ? <sbb-icon name=\"circle-tick-small\"></sbb-icon> : <sbb-icon name=\"circle-cross-small\"></sbb-icon>}</div>\n              <p>{wcagCompliance.aaNormal ? t.passSmallText : t.failSmallText}</p>\n            </div>\n            <div class={wcagCompliance.aaLarge ? 'result pass' : 'result fail'}>\n              <div class=\"icon\">{wcagCompliance.aaLarge ? <sbb-icon name=\"circle-tick-small\"></sbb-icon> : <sbb-icon name=\"circle-cross-small\"></sbb-icon>}</div>\n              <p>{wcagCompliance.aaLarge ? t.passLargeText : t.failLargeText}</p>\n              \n              \n            </div>\n          </div>\n          <div class=\"wcag-level\">\n            <div>{t.levelAAA}</div>\n            <div class={wcagCompliance.aaaNormal ? 'result pass' : 'result fail'}>\n            <div class=\"icon\">{wcagCompliance.aaaNormal ? <sbb-icon name=\"circle-tick-small\"></sbb-icon> : <sbb-icon name=\"circle-cross-small\"></sbb-icon>}</div>\n            <p>{wcagCompliance.aaaNormal ? t.passSmallText : t.failSmallText}</p>\n            </div>\n            <div class={wcagCompliance.aaaLarge ? 'result pass' : 'result fail'}>\n            <div class=\"icon\">{wcagCompliance.aaaLarge ? <sbb-icon name=\"circle-tick-small\"></sbb-icon> : <sbb-icon name=\"circle-cross-small\"></sbb-icon>}</div>\n            <p>{wcagCompliance.aaaLarge ? t.passLargeText : t.failLargeText}</p>\n            </div>\n          </div>\n        \n        </div>\n      </div>\n    );\n  }\n}  \n"]}